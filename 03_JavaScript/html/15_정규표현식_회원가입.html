<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>회원가입</title>
    <link rel="stylesheet" href="../css/15_정규표현식_회원가입.css" />
  </head>
  <body>
    <div class="container">
      <h2>행복나라 회원가입</h2>
      <label>아이디</label>
      <input type="text" id="myid" />
      <div id="hint1"></div>
      <label>비밀번호</label>
      <input type="password" id="mypw" />
      <div id="hint2"></div>
      <label>비밀번호 확인</label>
      <input type="password" id="mypw1" />
      <div id="hint3"></div>
      <label>이름</label>
      <input type="text" id="myname" />
      <div id="hint4"></div>
      <label>성별</label>
      <input type="radio" class="gender" />
      남자
      <input type="radio" class="gender" />
      여자
      <button onclick="회원가입()">회원가입</button>
    </div>
    <script>
      function 회원가입() {
        const myid = document.getElementById("myid").value;
        const mypw = document.getElementById("mypw").value;
        const mypw1 = document.getElementById("mypw1").value;
        const inputName = document.getElementById("myname").value;
        const hint = document.getElementById("hint");

        const idRegex = /^[a-zA-Z0-9_-]{8,16}$/;
        const pwRegex =
          /^(?=.*[a-zA-Z])(?=.*\d)(?=.*[!@#$%^&*])[A-Za-z\d!@#$%^&*]{8,20}$/;
        const nameRegex = /^[가-힣]{2,15}$/;

        if (idRegex.test(myid)) {
          hint1.innerText = "올바른 아이디 형식입니다.";
          hint1.className = "success-msg";
        } else {
          hint1.innerHTML =
            "영어 대/소문자 + 숫자 + 특수문자(-,_) 포함 6글자 이상 16글자여야 합니다.";
          hint1.className = "error-msg";
        }

        if (pwRegex.test(mypw)) {
          hint2.innerText = "올바른 비밀번호 형식입니다.";
          hint2.className = "success-msg";
        } else {
          hint2.innerHTML =
            "영어 대/소문자 + 숫자 + 특수문자(!@#$%^&*) 포함 8글자 이상 20글자여야합니다.";
          hint2.className = "error-msg";
        }
        if (pwRegex.test(mypw)) {
          hint3.innerText = ".";
          hint3.className = "success-msg";
        } else {
          hint3.innerHTML = "비밀번호가 일치하지 않습니다.";
          hint3.className = "error-msg";
        }

        if (nameRegex.test(inputName)) {
          hint4.innerText = "올바른 이름입니다.";
          hint4.className = "success-msg";
        } else {
          hint4.innerHTML = "이름은 한글 2-15자여야 합니다.";
          hint4.className = "error-msg";
        }
      }
    </script>
  </body>
</html>
